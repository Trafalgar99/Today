# 2020.9.26

# 单词x100

## JavaScript语法

1. 定义一个模块管理引擎

```js
let module = (function(){
    const moduleList = {};
    function define(name,modules,action){
        modules.map((m,i)=>{
            modules[i] = moduleList[m];
        });
        //存放一个模块
        moduleList[name] = action.apply(null,modules);
    }
    return {define}
})();


module.define('hd',[],function(){
    return {
        first(arr){
            return arr[0];
        },
        max(arr,key){
            let res = arr.map(item=>item[key]);
            return Math.max.apply(Math,res);
            arr.reduce((pre,cur)=>{pre[key]>cur[key]?pre:cur});
        }
    }
});

module.define('lesson', ['hd'], function(hd){
    let data = [
        {name:'js',price:199},
        {name:'mysql',price:78}
    ];
    hd.max(data,'price');
});
```

2. 定义模块

```js
// hd.js
let title = 'xxx';
let url = 'baidu.com';

export {title} //开放url

//main.js
import {title} from './hd.js'  //导入指定模块

//script标签
<script type='module'>
    import {title} from './hd.js';
</script>
```

3. 由于模块可能会有依赖关系，所以系统在加载时会先加载全部模块
4. 模块默认运行在严格模式
5. 模块有自己的作用域

```js
<script type='module'>
    let a = 1;
</script>

<script>
    console.log(a) //访问不到
</script>
```

6. 模块的预解析：当多次导入一模块时，只会执行一次该模块的代码
7. 模块导出时的属性或者函数都要有名字
8. 批量导入

```js
import * as api from "./module.js"

console.log(api.name);
```

9. 别名导入/出

```js
import {site as s} from "./modules.js"
//别名导出，外部优先使用别名
export {site as hs}
```

10. 默认导出

```js
// a.js 
export default class User{} //默认导出 只能导出一个

//main.js
import a from './a.js' //a默认接收User
```

11. 混合导出

```js
// a.js 
export default class User{} //默认导出 只能导出一个
export let x = 1;

//main.js
import a,{x} from './a.js' //a默认接收User,x接收x
```

12. 按需动态加载模块

```js
import("./hd.js"); //返回的对象可以放到花括号里，实现按需加载
```

13. 使用webpack兼容低版本浏览器s